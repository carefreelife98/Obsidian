  

## Agenda

1. 클라우드의 개요
2. 클라우드 유형
3. 클라우드 서비스 모델
4. 클라우드의 특징

  

## 1. 클라우드 개요

  

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.07.21.png]]

  

## 2. 클라우드 유형

  

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.10.17.png]]

- 클라우드는 구축 형태
    - Public
    - Private
    - Hybrid
    - Multi Core

  

## 3. 클라우드 서비스 모델

  

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.12.32.png]]

- 클라우드 서비스 형태
    - IaaS
        - IaaS는 가장 기본적인 클라우드 서비스 모델로, 가상화된 컴퓨팅 리소스를 제공합니다.
            - 이 모델에서는 가상 머신, 스토리지, 네트워킹 등의 인프라를 필요한 만큼 확장하거나 축소할 수 있습니다.
            - 사용자는 가상 머신에 운영체제와 애플리케이션을 설치하고, 데이터를 저장하며, 네트워크 설정을 구성하는 등의 관리 책임을 갖습니다.
            - 예: Amazon Web Services (AWS)의 EC2, Microsoft Azure의 Virtual Machines 등
    - PaaS
        - PaaS는 개발자들이 애플리케이션을 개발, 테스트, 배포하는 데 필요한 플랫폼 환경을 제공합니다.
            - 사용자는 애플리케이션 코드 개발과 관리에만 집중할 수 있으며, 인프라 관리는 클라우드 제공자가 대신 담당합니다.
            - 개발자는 주로 웹 애플리케이션을 빠르게 구축하고 배포하는 데 사용합니다.
            - 예: Google App Engine, Microsoft Azure App Service 등
    - SaaS
        - SaaS는 최종 사용자에게 완전한 애플리케이션을 인터넷을 통해 제공하는 모델입니다.
            - 사용자는 애플리케이션을 실행하기 위해 별도의 설치나 설정 없이 웹 브라우저를 통해 접근할 수 있습니다.
            - 모든 인프라와 플랫폼 관리는 클라우드 제공자가 처리합니다.
            - 예: Gmail, Microsoft 365 (예전의 Office 365), Salesforce 등

  

- On-Premise
    - 데이터 센터를 구축.
    - 실제 데이터 통신을 위한 모든 장비를 설비
- Colocation
    - Colocation(코로케이션)은 기업이나 개인이 자체 서버, 네트워크 장비 등의 IT 인프라를 보관하고 운영하기 위해 전문 데이터 센터나 코로케이션 센터의 공간을 임대하는 방법입니다.
    - 사용자는 자체적으로 데이터 센터를 구축하거나 운영하는 비용과 노력을 줄이면서 안정적이고 안전한 환경에서 자신의 IT 장비를 운영할 수 있습니다.
- Hosting
    - 호스팅(Hosting)은 웹사이트, 애플리케이션, 데이터 등을 인터넷에 접근 가능하게 만들기 위해 서버와 관련된 리소스를 제공하는 서비스를 말합니다.
    - 호스팅 서비스를 제공하는 업체는 서버, 스토리지, 네트워크, 보안 등을 관리하여 사용자가 웹사이트나 애플리케이션을 인터넷에서 접속하고 사용할 수 있도록 합니다.

  

  

## 4. 클라우드 특징

  

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.21.46.png]]

  

- 규모의 경제에서 얻는 이점
    
    - 대규모로 서비스를 사용함으로서 클라우드 서비스 제공 업체에게서 받는 혜택
    
      
    
- 빠른 프로비저닝 및 유연한 확장
- 인프라 유지관리 부담 해소
    
    - 안정적인 클라우드 사업자의 인프라, 유지 보수 서비스 사용
    
      
    
- 지속적인 기술 혁신 및 적용
    
    지속적인 기술 혁신을 통해 새로운 서비스 상품 제공
    
      
    
- 손쉬운 가용성 확보
    
    - 자체 시스템 구축보다 저렴한 가격으로 이용
    
      
    

  

## AWS Cloud Introduction

  

1. AWS Cloud History

  

  

Available Zone (가용영역) 끼리는 전용선으로 연결되어 있어 빠름.

  

  

  

  

## 4. Architecture on Cloud

  

1. **Fundamentals of Architecture Design**
    1. **AWS Well-Architectured Framework**
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.03.18.png]]
        
        1. 운영 효율성
        2. 보안
        3. 안정성
            1. 장애 복구 대응 방안
        4. 성능 효율성
            1. EC2 등 계속 버젼이 업된다.
            2. 성능이 좋아지거나, 가격이 낮아지거나
        5. 비용 최적화
            1. 낭비되는 리소스 줄이기
        6. 지속 가능성
            
            1. 데이터센터를 건축하면 탄소 배출량 증가. → 하지마라 그건 내가 고민하겠다.
            
              
            
    2. **한 명의 사용자를 지원하는 시스템에서 수백만의 사용자를 위한 시스템까지 확장하는 과정**
        1. DNS 서비스
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.10.19.png]]
            
              
            
        2. 서비스 규모 확장에 따른 데이터베이스 분리
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.15.40.png]]
            
            - 보안: 공인 IP로 접근이 불가능한 사설망으로 분리
            - 서버의 스펙(리소스) 관리 : DB의 리소스 사용량 managing
            
              
            
        3. 수직적 / 수평적 규모 확장 (Scale up/down & Scale in/out)
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.34.00.png]]
            
            1. 수직적 규모 확장
                - 서버가 가지고 있는 스펙이 물리적으로 상승
            2. 수평적 규모 확장 (최소 2대 이상)
                - 서버 자체가 여러 대로 증가.
                - 어느 정도 이상의 서버가 확보된 후로는 수직적 규모 확장을 하게 된다.
                    - 서버 사용자가 1000명이라고 서버를 1000대 생성할 수 없기에
                - 로드밸런서의 활용
                    - 서버의 확장을 간단하고 빠르게 실행.
                        - 이전에는 미들웨어에서 일일이 설정값을 지정하여 부하 분산 하였음.
            3. 데이터베이스의 확장 / 이중화
                - Replica 를 사용하여 복제를 통한 Scale up
                - Only Read 로 복제가 된다.
                - Active 상태인 DB가 수시로 Replica들에게 업데이트 된 값을 복사해준다. (k8s → etcd 와 같은 맥락)
            
              
            
        4. 데이터베이스의 성능 향상을 위한 캐시 전략
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.39.51.png]]
            
            - MSA → 여러 서비스마다의 각 데이터베이스를 Redis를 사용하여 함께 연동해서 사용할 수 있다?
            
              
            
        5. [CloudFront] 애플리케이션 성능 향상을 위한 캐시 전략
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.43.17.png]]
            
            - Loadbalancer
            - S3 에 존재하는 캐시 데이터를 사용
                - 캐시 데이터: 변하지 않는 정적인 데이터
                    
                    - 웹 사이트 이미지
                    
                      
                    
        6. Stateless Web Layer 구성을 통한 확장성 확보
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.48.11.png]]
            
            - 세션 관리
            - Stateful : 서버가 세션데이터를 가지고 있는 것
            - Statefuless : 서버가 세션 데이터에 관여하지 않고 다른 곳에 세션 데이터를 저장해 둔 후 해당 데이터를 가지고 온 객체에게 적절한 세션 데이터인지 확인하는 것.
                - 세션 데이터 저장위치
                    
                    - RDB, Cache, NoSQL…
                    
                      
                    
        7. [DR / POP] 데이터 센터 이중화를 통한 가용성, 접근성의 확장
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.08.24.png]]
            
              
            
        8. 서비스 결합도(응집도)를 낮추기 위한 메시지 큐 활용
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.13.51.png]]
            
            - FIFO 방식 사용
            - 리소스 소모가 큰 프로세스를 비동기 방식으로 처리
            
              
            
        9. 로그 수집, 모니터링, 자동화 도구 도입
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.16.45.png]]
            
            - DevOps 희망자 필수 관심 요소
            
              
            
    3. **시스템 개발 환경의 분류**
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.23.45.png]]
        
        - Local : 개발자 노트북
        - Dev 환경 : 기능 구현 테스팅 하는 용도
        - Staging 환경 : 서버 / eks 등을 Production의 환경과 100% 동일하게 구성.
            - 비용에 상관없이 테스트용 도메인을 제외한 모든 환경을 동일하게 구성하여 테스트.
        - QA 환경 : 서비스 기능 동작만 어느 정도 비슷하게 할 수 있도록 구성하여 테스트.
            
            - QA 까지 구성하는 경우는 거의 없음.
            
              
            
    4. **Resource naming 방식**
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.27.14.png]]
        
          
        
          
        
2. Network
    1. 네트워크의 세 가지 설계 포인트
        1. Segmentation
        2. Connectivity
        3. Security
    2. RFC 1918 - Standard Private IP Address
    3. Usable IP Address Range in AWS VPC per CIDR
3. Computing & Storage
4. Security
5. Management

  

  

  

  

## AWS Console

  

VPC 생성

  

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.29.23.png]]

- 인터넷 게이트웨이 생성

  

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.29.49.png]]

- 인터넷 게이트웨이 연결

  

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.31.49.png]]

- 라우팅 테이블 → 라우팅 추가
- 인터넷으로 나가는것 (0.0.0.0/0 → 인터넷 게이트 웨이)

  

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.33.39.png]]

- 라우팅 연결성공

  

- 명시적 서브넷 연결 (Pri)

  

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.37.55.png]]

- NAT Gateway 생성

  

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.38.53.png]]

- pri 라우팅 테이블 값 조정 (Nat gateway)

  

  

  

  

## Cloud9

- EC2로 생성되는 통합 개발 환경 (IDE)
- 파일명 뒤에 .java / .py 등등을 지정해주면 사용가능.

  

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.05.03.png]]

- Cloud9 환경 생성

  

- Cloud9 처럼 공인 IP를 매핑 할 수 없는 서비스 사용 시 서브넷 설정에서 자동할 당 IP 를 체크해주어야 한다.
- public subnet 두개 전부 설정해주자.

  

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.14.46.png]]

- Cloud9 생성 및 실행 모습
    
      
    

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.29.16.png]]

- 인바운드 보안그룹 규칙
    
    - 해당 범위 (원본) 내에서 온 요청만 허용시킨다.
    
      
    
      
    

## Route53

- AWS에서 제공하는 서비스 중 유일하게 100% SLA 제공하는 서비스
    - SLA : 사용자가 아닌 AWS에 의해 장애 발생시 변상 Percentage (장애 15분 이상 발생 시)

  

**Routing Policy**

1. **Simple**
2. **Weighted**
    - 도메인에 등록된 리소스 마다 가중치를 적용하여 트래픽 양을 조절
3. Latency
    - Latnecy (응답 지연 시간)이 가장 적은 리소스의 정보를 반환하는 방식.
    - 다중 리전 환경에서는 클라이언트와 가장 근접한 리소스로 연결될 확률이 높다.
4. Failover
    - 대상 두개 등록 시 상태 검사를 진행.
    - 둘 중 하나가 죽으면 나머지 하나가 작동 (몇 분 이상 걸림)
    - DR의 동작 방식
5. Geolocation
    
    - Client의 위치 정보를 기반으로 가장 가까운 리전의 리소스 정보를 반환하는 방식
    
      
    

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.26.20.png]]

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.27.42.png]]

- Route 53 → 호스팅 영역 생성

  

- virginia 54.162.7.72
- Frank 3.76.252.138
- seoul 3.34.134.218

  

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.16.51.png]]

- 레코드 생성 (서울)

  

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.18.53.png]]

- 레코드 생성 후 레코드 이름을 도메인으로 사용하여 접속해보자.

  

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.22.47.png]]

- 접속되는 것을 볼 수 있다.

  

레코드 == hosts 파일?

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.28.46.png]]

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-27_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.33.17.png]]

- 위와 같이 여러 개의 IP가 다중 매핑 되었을 시, Route53은 세개의 IP를 전부 반환 할 수 있다. (캐시 등 제외)