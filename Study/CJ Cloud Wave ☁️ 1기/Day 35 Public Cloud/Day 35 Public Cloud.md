  

## End Point

1. S3 버킷 생성
2. endpoint 생성
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.38.10.png]]
    
      
    
3. 라우팅 테이블에 자동으로 테이블이 생성 된 것을 볼 수 있다.
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.39.10.png]]
    
      
    
4. web 인스턴스에 접속.
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.46.50.png]]
    
      
    
5. ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.47.17.png]]
    

  

1. ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.47.35.png]]
    
      
    
2. EndPoint가 잘 적용되는지 확인하기 위해 0.0.0.0으로 나가는 NAT Gateway (internet Gateway) 를 삭제해보자.
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.48.34.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.48.49.png]]
    
      
    
3. 외부와 핑이 되지 않는다. (인터넷 게이트웨이가 없으므로)
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.49.14.png]]
    

  

1. IAM
    - 인스턴스가 IAM 역할을 가지도록 하는 방법
        - IAM 역할을 만들어 인스턴스에 꽃아주기
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.25.30.png]]
            
            - IAM 생성 시 Default Region name이 추가되어 있지 않는다.
            - 따라서 직접 추가해준것.
            - access key를 사용하게 되면 해당 정보가 유출될 위험이 있음.
                - 하지만 IAM Role을 사용하게되면 접근할 수 있는 경로가 없어 유출 불가.
        - aws configure 시 access key 사용
    - Private한 정보 (secret..) 에 접근하는 경우는 internet gateway를 사용하지 않고 endpoint를 사용하는 것을 권장.
        
        - 하나의 endpoint는 하나의 서비스에 사용된다.
        - 각각의 서비스마다 endpoint를 설정해주어야한다.
        
          
        
2. EndPoint가 잘 작동되어 s3 로 업로드가 잘 된다.
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.17.04.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.39.05.png]]
    
    - IAM 역할도 잘 설정되어 권한이 부여되어 있는 것을 볼 수 있다.
    
      
    

  

  

## Security

  

1. Security Group
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.42.05.png]]
    
      
    
    - 리소스에서 허용되는 트래픽 정보를 관리하고, VPC 내부 리소스들을 위한 방화벽 역할을 담당하는 서비스.

  

1. Network Access Control List(NACL)
    - 서브넷에 허용되는 트래픽 정보를 관리하고, VPC 내부 리소스 들을 위한 방화벽 역할을 담당하는 서비스.
    - 금융권 제외 거의 사용하지 않는다.
        
        - 나중에 사용하게 되면 그때 학습.
        
          
        
2. Network Security Service Line-up
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.45.47.png]]
    
    - PrivateLink : VPC Endpoint와 같이 사용됨
    - WAF : 웹서버 보호
    - shield : 디도스 방어
    - ACM : https 구현시 연동되어 사용
    
      
    
      
    

# Computing / Storage

  

## Amazon EC2

  

**EC2 Instance 개요**

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.07.29.png]]

- IaaS의 가장 대표적인 서비스로 가상화 된 컴퓨팅 자원(instance)을 제공

  

  

**EC2 Instance Family & Type**

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.15.00.png]]

- EC2 인스턴스 기능 별로 그룹화 하여 패밀리 단위로 구분.

  

EC2 Instance Generation

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.15.45.png]]

- 주기적으로 최신 기술을 반영한 신규 인스턴스 세대 출시
- 이전 세대 인스턴스 대비 비용은 낮아지고 성능은 향상.
- Region, AZ 별로 지원되는 인스턴스 세대가 다르다.
    - 새로 생성된 AZ / Region에 Old한 인스턴스 세대를 배포할 필요가 없으므로.

  

EC2 Instance - Burstable

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.22.02.png]]

- 순간적으로 CPU의 성능을 향상
    - 일시적으로 추가 비용없이 기본 성능 이상으로 고성능 컴퓨팅 지원
- 일시적인 고성능 컴퓨팅 리소스가 필요한 경우 사용할 수 있는 기능
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.26.37.png]]
    
    - 크레딧 기반 작동원리를 통해 기준 성능 이상일 경우 크레딧 소진.
        - 인스턴스의 기준 성능 이하인 경우 크레딧 획득
        - 기준 성능 이상일 경우 크레딧 소진
            - 기준 사용률이 넘어가는 순간부터 크레딧을 소모.
                - 크레딧이 전부 소모되면 CPU 성능이 다시 하락.
                - 일반 운영환경에서는 크레딧 보유 여부에 따라 서버의 성능이 변동하므로 사용 불가.
    - 일시적인 작업 부하가 예측되는 시스템에 적합 ( 개발 , 테스트 환경)

  

  

  

## Amazon EC2 (Elastic Compute Cloud)

  

**EC2 Instance Tenancy**

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.29.45.png]]

- 전용 인스턴스와 전용 호스트의 차이
    - 라이선스 이동 여부? 의 차이

  

**EC2 Instance Software Stack & AMI**

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.30.29.png]]

- Amazon EC2 에서 사용할 수 있는 OS 이미지

  

  

**EC2 Instance Auto Scaling**

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.32.49.png]]

- 증가하는 서비스 트래픽에 맞춰 자동으로 서버의 수량을 조절하는 기능.

  

# Hands-on Lab - 실습

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.34.18.png]]

  

1. AMI 생성
    1. ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.35.28.png]]
        
          
        
2. 인스턴스 생성
    1. 이미지 선택
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.38.03.png]]
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.38.25.png]]
        
          
        
    2. key파일 사용 설정 하지 않을 시 SSM 으로 접속해야함.
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.40.19.png]]
        
          
        
    3. EC2 Instance 생성 완료
        
          
        
3. 탄력적 IP 주소 할당 및 연결
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.43.01.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.43.33.png]]
    
    - Open VPN 에서 쉽게 만들어준 기능.
    
      
    
4. 연결 후 bash 입력하여 설치 진행
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.45.51.png]]
    
      
    
5. IP 주소 접속
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.47.58.png]]
    
      
    
    ID / Pw 입력후 접속
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.48.18.png]]
    
      
    
6. 유저 설정 후 접속 및 OS에 맞는 적절한이미지 선택 후 설치.
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.50.11.png]]
    

  

1. 실행 후 생성한 Instance의 공인 IP 주소, 유저 생성 시 기입한 ID 및 PW를 사용하여 Connect.
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.05.15.png]]
    

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.03.00.png]]

  

1. Private EC2 의 IP주소로 접속
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.13.20.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.13.59.png]]
    
      
    
2. OpenVPN 덕분에 사설망을 사용하여 접근이 되는 것.
    
    - 외부 (Amazon의 IP) 에 연결하려면 VPN이 필요함
    
      
    

  

  

  

## Elastic LoadBalancer

**AWS ELB 개요**

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.35.05.png]]

- 클라이언트의 서비스 요청 트래픽을 다수의 서버로 분산 시켜주는 서비스.
    - 클라이언트의 요청을 Listener 로 수신
    - Target Group에 등록된 서버의 상태 검사를 통해 정상적인 대상에만 트래픽 라우팅
- 완전관리형 서비스

  

**AWS ELB - Health Check**

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.36.31.png]]

- Target Group에 등록된 시스템을 대상으로 Health Check를 통해 정상 응답 (상태코드 200) 을 받은 경우에만 해당 시스템으로 트래픽 라우팅

  

  

**AWS ELB - 4가지 종류**

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.39.33.png]]

- Application → Security Group 설정 가능 (L7이므로)
- Nework → Security Group 설정 불가 (L4이므로)
    - 하지만, Elastic IP를 설정 가능한 장점.
- Gateway → 내 / 외부의 모든 트래픽을 전부 받은 후 방화벽과 연동하여 사용(?)
- Classic → 안씀

  

**AWS ELB - Auto Scaling 서비스와의 연동**

- 계속된 Health Check 결과, 한 인스턴스가 죽어서 설정된 유지 인스턴스 값과 맞지 않으면 인스턴스의 개수를 자동 생성하여 맞춰준다.
- Auto Scaling 시 AMI를 걸어주면 해당 AMI 설정을 가진 Instance들이 복사되어 생성됨.

  

## Hands-on Lab - 실습2

1. LB 생성 → 대상 그룹 부터 생성
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.07.41.png]]
    
      
    
2. 보안그룹 생성
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.13.07.png]]
    

  

1. LB 생성
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.09.58.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.14.43.png]]
    
      
    
2. 시작 템플릿 생성
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.19.37.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.22.29.png]]
    
    - Scale out 될 때의 Instance 상태 정보를 설정

  

1. Auto Scaling Group 생성
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.25.23.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.26.46.png]]
    
    - 확장 조건 설정하는 모습
    
      
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.28.40.png]]
    
      
    
2. Load Test 를 눌러 CPU에 부하를 100% 로 늘려주면 instance가 최대값인 4개로 설정된 것을 볼 수 있다.
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.03.07.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.04.17.png]]
    

  

1. 인스턴스를 종료하게되면 새로운 인스턴스가 생기는 것을 볼 수 있다.
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.11.39.png]]
    
    - 또한, 인스턴스 종료가 아닌 중지가 되어도 해당 인스턴스를 종료시켜 버리고 새로 생성하는 것을 볼 수 있다.
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.13.00.png]]
        
          
        
          
        

## ACM (AWS Certificate Manager)

- 인증서 생성 무료 서비스

  

1. 인증서 요청
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.18.45.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.19.59.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.20.49.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.21.12.png]]
    
    - (DNS 검증) Route53 에서 레코드 생성 버튼 누르기
    
      
    
2. 현재 로드밸런서에는 http :80 만 설정되어 있으나, 위에서 만든 ACM 을 사용하여 새로운 HTTPS Listener를 추가할 수 있다.
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.22.58.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.30.29.png]]
    
      
    
3. [https://www.st25.cj-cloud-wave.com/](https://www.st25.cj-cloud-wave.com/)
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.31.18.png]]
    
    - 위 처럼 https:// 를 명시하여 접속하게 되면 자물쇠가 잠겨져 보안 연결이 된 것을 볼 수 있다.
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.32.40.png]]
        
    
      
    
      
    
      
    
      
    

## Lambda

**AWS Lambda 개요**

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.57.58.png]]

- EC2와 달리 수동적 종료해줄 필요가 없다.
- Lambda는 Trigger에 의해 요청이 오면 실행되고, 일정 시간 요청이 없으면 자동 종료된다.
- 조금은 불안정 할 수 있는 서비스

  

## Lambda 실습

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.00.28.png]]

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.04.06.png]]

  

1. 함수 생성
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.09.40.png]]
    
      
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.09.58.png]]
    
    - 코드 입력
2. API Gateway를 사용하여 코드 테스팅
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.12.36.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.13.32.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.14.22.png]]
    
      
    
3. DynamoDB 테이블 생성
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.36.34.png]]
    
      
    
4. REST API Gateway 생성
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.40.40.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.40.54.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.45.33.png]]
    
      
    
    이후 해당 URL을 코드에 반영
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.45.06.png]]
    
      
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.09.04.png]]
    
      
    
      
    
      
    

## Amazon SNS

1. 주제 생성
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.04.17.png]]
    
      
    
2. 구독 생성
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.05.10.png]]
    
      
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.05.39.png]]
    
    - 구독 생성 시 해당 E-mail로 Confirm 이메일이 온다.
    
      
    
3. Lambda 함수 생성
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.10.47.png]]
    
    - 위에서 생성한 SNS 에 대해 IAM 권한을 줘야한다.
    
      
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.18.04.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.17.55.png]]
    
    - 코드를 작성하고 TopicArn 변수에 이전에 생성한 SNS의 ARN을 추가 해주어야 한다.
    
      
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.19.21.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.19.40.png]]
    
    - 이후 트리거를 추가해야 동작이 된다.
    
      
    
4. AWS CLI를 통해 이미지를 변경
    
    ```
    $ cd ./hands-on-lab_lambda/image/$ aws s3 cp shiba-inu-02.jpg s3://lab-edu-s3-endpoint-767391686884/shiba-inu.jpg# s3api 를 사용하여 acl 정책을 public으로 설정해주어야 접근이 가능해진다.$ aws s3api put-object-acl --bucket lab-edu-s3-endpoint-767391686884 --key shiba-inu.jpg --acl public-read
    ```
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.26.13.png]]
    
      
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-31_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.27.11.png]]
    
    - 아래와 같이 AWS SNS 알람 메시지를 받아볼 수 있다.