  

## 데이터 베이스 개요

- 여러 사람(응용프로그램)에 의해 공유되어 ..

  

파일 시스템의 단점 극복을 위해 데이터베이스가 개발됨.

- 데이터 중복의 최소화
- 파일의 공유가 가능해짐
- 보안 기능의 향상
- 원하는 데이터 작업을 쉽게 해주는 명령어(질의어) 존재

  

파일 시스템

- Windows → NTFS , FAT32
- Linux → EXT4, XFS

  

## DBMS (DataBase Management System)

→ 데이터베이스를 저장하고 관리하는 역할을 하는 소프트웨어.

→ 각각의 DBMS 마다 사용 방법이 다름.

- Oracle
- MariaDB
- MySQL
- Postgresql
- MSSQL

**No-SQL** (Mongo DB, Dynamo DB → AWS)

- SQL이 아닌 다른 방법으로도 DB의 제어가 가능하다.

**Relation DataBase** (Oracle, MySQL, MariaDB, MSSQL..)

  

## SQL

- 순서 문제 → SQLD
- select → from → where → … → order by
    - 모든 데이터 수집 완료 후 정렬해야 하므로 가장 마지막에 order by 가 붙는다.

## 계정 생성 및 권한 부여

```
create user cloudwave identified by 1234;grant dba to cloudwave;
```

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.28.34.png]]

  

## desc emp

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.36.12.png]]

  

- Oracle 의 경우 Database 생성 후 테이블을 생성하는 것이 아닌, 접속하자마자 테이블을 생성한다. (MySQL 과의 차이점)

  

## SELECT

1. 대소문자구분을하지않아도실행되지만원래는다른문장이다**!**
2. 한 줄 또는 여러 줄에 걸쳐 작성해도 되며 마지막은 **;(**세미콜론**)  
    **으로 끝맺어야만 한다**.**
3. SQL 키워드는 분리해서는 안 된다. SQL 키워드라 함은 SELECT ,FROM ,WHERE 등과 같이 SQL 에서 사용하는 미리 정해놓은 단어를 말한다.

  

- 컬럼에 별명 (alias) 부여
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.18.06.png]]
    

  

  

- 연결연산자 → ‘ || ’ 사용
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.21.52.png]]
    
      
    
- distinct → 중복제거
    - 중복제거하여 조회하기
    - 기능이 좋지 않음
    - 한번만 사용가능.
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.23.56.png]]
        
          
        

## WHERE

- column 부분에 연산 및 조건을 제시할 수 있다.
- select 만 사용하는 경우는 없으며, 모든 쿼리문에는 대부분 Where 절을 활용한 조건문이 따라온다.
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.28.26.png]]
    
      
    
- 문자열 조회시 주의사항
    - where 절은 대/소문자를 구분한다.
    - 홑따옴표로 묶어야 한다. → 문자인 경우
        
        - 숫자인 경우 홑따옴표로 묶지 않아도 된다.
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.31.10.png]]
        
          
        
        - 날짜 데이터도 비교 연산을 통해 조건을 사용할 수 있다.
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.33.14.png]]
        

  

- 다양한 연산자
    
    ```
    연산자 종류 / 설명= -> 같은 조건을 검색!=, <> -> 같지 않은 조건을 검색> -> 큰 조건을 검색>= -> 크거나 같은 조건을 검색< -> 작은 조건을 검색<= -> 작거나 같은 조건을 검색BETWEEN a AND b -> A 와 B사이에 있는 범위 값을 모두 검색IN(a,b,c) -> A 이거나 B 이거나 C 인 조건을 검색Like -> 특정 패턴을 가지고 있는 조건을 검색Is Null / Is Not Null -> Null 값을 검색 / Null 이 아닌 값을 검색A AND B -> A 조건과 B 조건을 모두 만족하는 값만 검색A OR B -> A 조건이나 B 조건 중 한가지라도 만족하는 값을 검색NOT A -> A 가 아닌 모든 조건을 검색
    ```
    

  

- or 연산자 사용
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.37.51.png]]
    

  

- is null 연산자 사용
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.39.53.png]]
    

  

- 두 개 이상의 연산 → and, or 연산자 사용가능

  

- 괄호 사용의 중요성
    
    - 괄호 미사용 → 2학년 조건 : 불만족
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.43.18.png]]
        
    
      
    
    - 괄호 사용 → 2학년 조건 : 만족
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.44.47.png]]
        
    
      
    
- 퀴즈
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.46.31.png]]
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.45.53.png]]
    
      
    
- Order by 절의 사용
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.47.45.png]]
    
    - order by는 모든 데이터가 수집된 후 정렬해야 하기 때문에 가장 마지막에 붙는다.
    - Order by 절에서만 별칭(alias)을 사용하여 정렬 할 수 있다.

  

- 집합 연산자
    
    ```
    연산자 종류 / 내용UNION두 집합을 더해서 결과를 출력. 중복 값 제거하고 정렬함UNION ALL두 집합을 더해서 결과를 출력. 중복 값 제거 안하고 정렬 안 함INTERSECT두 집합의 교집합 결과를 출력함. 정렬함MINUS두 집합의 차집합 결과를 출력함. 정렬함. 쿼리의 순서 중요함
    ```
    
      
    
- update
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.01.22.png]]
    
      
    
- intersect → 교집합
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.15.13.png]]
    
      
    
- MINUS → 차집합
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.16.10.png]]
    
      
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.17.02.png]]
    
      
    
- 집합 연산자 사용시 주의사항

1. Column 의 개수가 다를 경우 에러 발생
2. Data Type이 같아야 한다.

  

## SQL 함수

- 단일 행 함수
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.19.37.png]]
    
    - 각각의 행마다 적용됨
    - 각 행마다 적용 후 행의 개수만큼 출력
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.20.53.png]]
        
- 전체 행 함수
    - 전체 행에 대하여 적용됨
    - max → 전체 행에 대하여 가장 큰 값을 가진 low 하나를 출력
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.21.58.png]]
        

  

- 함수 모음
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.25.24.png]]
    
    - INITCAP(대↔소문자) → 한글에서는 큰 의미가 없다. 영문 데이터인 경우 사용 가능
    - LENGTH
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.28.34.png]]
        
    
      
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.25.35.png]]
    
      
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.28.05.png]]
    
      
    
    **날짜 함수**
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.29.26.png]]
    
    - **10**월**23**일 **+ 3**은 **10**월**26**일로 생각합니다**.**
    - **10**월**23**일 **– 3**은 **10**월**20**일로 생각합니다**.**
    - **10**월**23**일 **– 10**월**20**일은 **3**일 차이난다 라고 생각합니다**.**
    
      
    
    **형 변환 함수**
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.32.15.png]]
    
    - 주로 사용하는 데이터 형
        - CHAR
        - VARCHAR
        - NUMBER
        - DATE
    - 명시적 형 변환
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.34.30.png]]
        
    - 형 변환 함수 사용 예제
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.38.13.png]]
        
    
      
    
    - 형 변환 함수 → 숫자를 문자로
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.41.22.png]]
        

  

- **문자 함수**
    
    → 각 index 는 - 를 사용하여 순서를 뒤집을 수 있다.
    
    → index 0 은 존재하지 않음
    
    - concat → ||
    - **SUBSTR 함수** (SUBSTR(’문자열’ 또는 컬럼명 , 시작 index, 끝 index)
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.35.17.png]]
        
    
      
    
    - **INSTR 함수**
        - INSTR(**‘**문자열’ 또는 컬럼 , 찾는 글자 , 시작위치 , 몇 번째인지(기본값은 1))
        - 퀴즈
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.43.35.png]]
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.43.16.png]]
            
              
            
    - **L / RPAD** : 전체 자릿값을 출력, 남는 공간에 특정 데이터를 추가해서 반환 하겠다.
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.45.57.png]]
        
          
        
    - **L / RTRIM**
        - 문 법: LPAD(**‘**문자열’ 또는 컬럼명, 자리수 , **’**채울문자’ )
        - from dual → 가상 테이블
        - 좌 / 우 공백 제거
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.49.12.png]]
            
              
            
    - **REPLACE(‘문자열’ 또는 컬럼명 , ‘문자1’ , ’문자2’)**
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.15.56.png]]
        
          
        
- 일반 함수
    
    - NVR 함수 : NVL(컬럼,치환할값)
        - NULL 값을 만나면 다른 값으로 치환해서 출력하는 함수
        - Database 에서는 덧셈, 뺄셈, 곱, 나눗셈 상관없이 0 과 연산하게 되면 무조건 0으로 초기화 된다.
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.10.17.png]]
            
              
            
              
            
    - **NVL2** 함수 : NVL2(COL1,COL2,COL3)
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.12.59.png]]
        
          
        
    - DECODE
    
      
    
    - **CASE** 표현식
        
        ```
        CASE 조건 WHEN 결과1 THEN 출력1[WHEN 결과2 THEN 출력2]ELSE 출력3END **“**컬럼명”
        ```
        
        CASE 조건 WHEN 결과1 THEN 출력1  
        [WHEN 결과2 THEN 출력2]
        
        ELSE 출력3  
        END **“**컬럼명”
        
          
        
    - when then else

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.29.13.png]]

  

- 복수행 함수 종류
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.30.24.png]]
    
    - 복수행 함수는 null 값이 들어있으면 전부 제외시킨다.

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.33.57.png]]

  

- Group By 절 사용하기
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.59.32.png]]
    
      
    
- 예제 1
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.28.20.png]]
    
    - alias 사용 시 문자와 숫자가 섞여있는 경우 무조건 “”로 묶어주어야 한다. (”1월” ~ “12월”)
- 예제 2
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.29.53.png]]
    
      
    
- ROLLUP
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.35.45.png]]
    
      
    
- CUBE
    
    - ROLLUP 과 비슷하지만 총계까지 내어주는 함수
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.36.43.png]]
        
    
      
    
      
    
    ## ROWNUM, ROWID
    
- ROWNUM
    - 출력시의 일련번호
    - 테이블의 가장 왼쪽에 존재
- ROWID → 잘 사용하지 않음
    - 식별자
    - 유일한 ID

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.39.15.png]]

  

- rownum 사용하여 범위 지정 출력 가능
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.41.16.png]]
    

  

- rownum은 출력시에 정해지는 번호이므로 무조건 1번 부터 출력이 가능함.
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.42.09.png]]
    

  

- rnum을 이용하여 1이 아닌 타 일련번호 부터의 범위검색을 할 수 있다.
    
    - 괄호 사용된 구문을 “인라인 뷰” 라고 한다.
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.44.38.png]]
    
      
    

## LISTAGG(조건)

- 특정 조건에 맞는 데이터를 LIST(배열) 형태로 출력해준다.
    - 복수행으로 나타낼 수 없는 데이터를 출력가능하게 해준다.
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.49.59.png]]
        

  

  

## JOIN

- RDB 에서는? key 값을 이용해서 테이블들을 JOIN 해준다.
    - Primary key 사용
- 정규화를 위해 테이블을 너무 많이 분리해놓으면 추후 개발시 JOIN 하는 것에 문제가 생긴다.
    - “반 정규화” 를 하자
- JOIN의 이해
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.05.10.png]]
    
      
    

1. 카타시안 곱 → 모든 경우의 수 전부 확인
2. EQUI JOIN / None EQUI JOIN
    - INNER JOIN / OUTER JOIN (LEFT / RIGHT / FULL)
        1. INNER JOIN : 조인 조건이 일치하는 경우에만 조회
        2. OUTER JOIN : 조인 조건에 일치하는 데이터가 없는 경우도 조회

  

- ANSI JOIN 문법
    
    - FROM 절에서 JOIN 조건을 지정한다.
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.19.54.png]]
    
      
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.24.08.png]]
    

  

- Oracle JOIN 문법
    
    - where 절에서 JOIN 조건을 지정한다.
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.21.48.png]]
    
      
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.25.24.png]]
    

  

- ANSI 문법을 사용해서 세 개의 테이블을 JOIN 한 모습
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.28.37.png]]
    
      
    

## Non - EQUI JOIN (비등가 JOIN)

  

- 예제 1
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.40.11.png]]
    
      
    
- 예제 2
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.42.57.png]]
    
      
    
- 예제 3 비등가 JOIN
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.52.58.png]]
    
      
    
      
    

## OUTER JOIN (지각)

  

## SELF JOIN

  

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-05_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.36.21.png]]

  

- 연습문제 1
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-05_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.53.43.png]]
    
      
    

## SUB QUERY

  

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-05_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.06.24.png]]

- Where 절에서 사용할 데이터를 추가적으로 찾아야 할 경우에 sub query를 사용하여 찾는다.

  

- 서브 쿼리
    - 스칼라(Scala) - select 절에 위치한 서브쿼리
    - 인라인 뷰 (Inline - View) - from절에 위치한 서브쿼리
    - 서브쿼리 (Sub Query) - where 절에 위치한 서브쿼리
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-05_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.11.41.png]]
        

  

- 서브 쿼리 작성 시 주의 사항
    - **Sub Query** 부분은 **Where** 절에 연산자 오른쪽에 위치해야 하며 반드시 괄호로 묶어야 합니다**.**
    - 특별한 경우 **(Top-n** 분석 등**)**를 제외하고는 **Sub Query** 절에 **Order by** 절이 올 수 없습니다**.**
    - 단일 행 **Sub Query** 와 다중 행 **Sub Query** 에 따라 연산자를 잘 선택해야 합니다.
    - 서브 쿼리에 해당하는 쿼리문을 먼저 작성하는 것이 편함.

  

- 서브 쿼리의 종류
    
    - 단일 행 서브 쿼리 - 서브 쿼리의 값이 여러 개 존재 시
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-05_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.13.13.png]]
        
    
      
    
    - 다중 행 서브 쿼리 → 서브 쿼리의 값이 여러 개 존재시
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-05_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.13.37.png]]
        
          
        
        - 다중 행 서브쿼리 연습문제 1
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-05_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.18.57.png]]
            
        
          
        
        - 다중 행 서브쿼리 연습 문제 2
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-05_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.23.50.png]]
            
    
      
    
    - 다중 컬럼 서브 쿼리 → 비교하는 값이 두 개 이상인 경우
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-05_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.27.20.png]]
        
        - 다중 컬럼 서브 쿼리 연습문제
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-05_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.32.28.png]]
            
              
            
    - 상호 연관 서브 쿼리 → 상호 연관된 테이블을 비교하는 서브쿼리
    - SELF JOIN 과 비슷한 느낌
        - 상호 연관 서브 쿼리 예제
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-05_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.40.27.png]]
            
              
            
    - 스칼라 서브 쿼리 → 모든 행이 실행 될 때마다 실행됨.
    - 잘 사용되지 않음
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-05_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.46.21.png]]
        
    
      
    
    - 인라인 뷰
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-05_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.53.13.png]]
        
        - 뷰 : 실제 테이블이 아닌 가상의 테이블을 생성
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-05_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.50.06.png]]
            
            - 쿼리가 내부에 존재하며, 실행될 때마다 뷰 내부의 쿼리가 실행됨.
            - 한번 생성되면 쿼리와 같은 동작을 하게 됨.
        - 뷰 사용시 select 행에는 * 대신 해당 테이블의 모든 행을 일일히 적어주어야 동작한다.
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-05_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.56.06.png]]
            
              
            
        - 뷰 생성 방법
            1. 재활용 가능 (전역 변수와 비슷)
                
                ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-05_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.12.13.png]]
                
            2. 일회성 (지역 변수와 비슷)
                
                ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-07-05_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_11.12.03.png]]