---
Author: CarefreeLife98
Date: 2023-12-10T16:07:00
Agenda: 
tags:
  - Algorithm
---
# KMP
> **전체 Text 에서 찾고자 하는 특정 패턴의 내부 구성 요소 반복 정보를 기반으로 불필요한 비교를 줄이는 알고리즘.**
> - 패턴과 같은 크기를 가진 **패턴을 구성하는 요소의 반복 횟수**를 나타내는 **next 배열**을 생성.
> - **불일치 발생 시**
> 	- **해당 패턴 요소의 index - 1 번째의 next 배열 값을 index 로 가지는 패턴 요소를 불일치 발생 위치로 옮겨 다시 비교 시작.** 

## KMP - next 배열 구하기 시험용
> j 와 next\[j] 는 text 와 pattern 의 비교 index.
> - 비교 시작 시 text 는 index 1 부터 시작, pattern 은 index 0 부터 시작
> - 일치 시 next\[j] 값이 증가한다.
> - 불일치 발생 시 불일치 지점 다음 위치부터 재비교.

## 유한 상태 장치
![[스크린샷 2023-12-10 오후 6.29.46.png]]
위쪽에서 next배열은 [ 0 0 1 2 0 1 1 ] 이다. 이건 10100111의 두번째 인덱스부터 대응된다.(첫번째 1은 -1이다.) 

next배열의 첫번째 0의 의미는 10100111의 두번째 인덱스인 0이 10100111의 첫번째 인덱스로 향한다는것을 뜻한다. (그래서 위의 그림도 두번째 0에서 첫번째 1로 이어져있음.)  

next배열의 두번째 0의 의미는 10100111의 세번째 인덱스인 1이 10100111의 첫번째 인덱스로 향한다는 것이다. (그림보면 세번째 1에서 첫번째 1로 이어져있음.)


## 유한 상태 장치의 개선
![[스크린샷 2023-12-10 오후 6.29.59.png]]
유한 상태 장치의 개선은 위의 유한상태장치에서 
**"next배열을 따라서 간 이후의 글자가 똑같을 경우 이전으로 한칸을 더 이동할 수 있다"** 
정도로 해석하면 된다.

ex) 세번째 1은 첫번째 1로 향하는데 이건 둘이 같으므로 한칸 더 이동할수 있다.(이경우 맨 앞의 네모로 이어짐.) 또 네번째 0은 두번째 0으로 이어지는데 이것도 같으므로 한칸 더 갈수있다.(이경우 첫번째 1로 가게됨.)

![[스크린샷 2023-12-10 오후 6.39.46.png]]
개선된 유한 장치 사용시 불일치 발생하면
- **불일치가 발생한 지점의 유한 상태 장치가 이동하라고 나타내는 곳을 해당 위치에 대입하면 된다.**



# Rabin- Karp
> 1. Pattern 의 길이를 기준으로 Pattern 의 Hash 값을 계산.
> 2. Sliding Window를 통해 잡히는 Text 와 Pattern 의 Hash 값이 같은 경우 Pattern 과 Text 의 구성 요소를 비교 (Hash 값이 충돌 할 수 있기 때문에)
> 3. 일치 시 String Matching 성공

