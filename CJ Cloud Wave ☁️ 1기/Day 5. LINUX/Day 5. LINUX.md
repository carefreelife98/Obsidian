  

ps : 현재 프로세스 출력

  

ps -ef : 전체 프로세스 출력

ps aux : 전체 프로세스 출력

  

jobs : 현재 프로그램에서 실행시킨 작엊에 대한 내용

sleep 1000 : 1000초 동안 프롬프트 잠금

sleep 2000 & : 백그라운드에서 동작

  

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-06-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.10.00.png]]

  

kill : 프로세스에 시그널을 보낸다.

- kill %작업번호 : 1번 작업을 종료하겠다, default 값으로 SIGTERM 옵션이 들어감.
- kill -9 %2 : 강제 종료(SIGKILL)
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-06-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.13.22.png]]
    
      
    

  

서비스를 제어하는 명령어 : systemctl

  

프로세스가 동작하게 되면 PID(프로세스 아이디) 로 변환됨.

% 가 붙으면 작업번호 (가장왼쪽에 보임).

안붙으면 프로세스 아이디.

- 시스템 재시작 시 프로세스 아이디가 변경.
    - 유지되는 경우도 있음 : SIGHUB → 잠시 프로세스 중단 (KILL 아님) → 프로세스 아이디가 변경되면 안되는 경우에 주로 사용

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-06-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.19.57.png]]

  

- kill command

![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-06-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.20.42.png]]

  

- 작업을 ctrl z 등으로 중단시킨 후
    
    해당 프로세스를 foreground 로 가져오려면 fg + 작업번호
    
      
    
- 반대로 현재 프로세스를 백그라운드로 : bg + 작업번호

  

- pkill -9 (패턴) : 해당 패턴이 들어간 프로세스를 전부 kill.
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-06-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.25.44.png]]
    
      
    

## at / cron : 작업스케줄 자동화

- at : 일회성 → 자주 사용 x
    - 종료 시 ctrl + d
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-06-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.29.26.png]]
        
    - wall : 현재 접속된 모든 사용자에게 메세지 보냄. (브로드 캐스팅)
- cron : 주기성 → 자주 사용
    
    - crontab
        - -e : 작성
        - -l : 현재 설정내용확인
        - -r : 설정 내용 삭제
    - crontab 구성 : [분][시간][날짜][달][요일] [Command]
    
      
    
    - 매 시간 40 분 마다, 매 일, 매 월, 매 요일 /root/test.sh 실행해라.
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-06-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.44.09.png]]
        
          
        
    - 작업내용을 nano를 통해 스크립트 파일로 만들어 놓고 매 주기마다 실행 할 수 있도록 권한도 부여 해준다.
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-06-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.47.40.png]]
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-06-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.50.58.png]]
        

- at.allow / cron.allow
    - 위 파일에 저장된 사용자는 at과 cron을 사용할 수 있다.

  

  

- 날짜 수정
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-06-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_9.35.49.png]]
    
      
    
      
    

## 데이터 베이스(Storage) 공유

**AWS**

→ 로드 밸런서에서 부하분산을 할때 각 서버는 같은 데이터베이스를 가져야 로드밸런서가 어디로든 분산시킬수 있다.

→ 이때 스토리지를 하나 만들어 각 서버에 공유해놓으면 된다.

- **Samba Service (window : FSx / Linux : EFS)**
    
    - Workgroup이 같아야 서로 파일 공유가 가능.
        
        ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-06-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.22.52.png]]
        
          
        
    - smb : 공유하기 위한 핵심서비스
    - nmb : 이름을 사용하여 공유하기 위한 서비스
    - smb와 nmb를 사용하기 위해서는 아래와 같은 포트를 전부 열어주어야 한다.
        - 137, 138, 139
            
            ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-06-30_%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB_10.27.19.png]]
            
              
            
    
      
    
      
    
    ![[%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2023-06-30_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_12.15.22.png]]
    
      
    
    mount -t cifs